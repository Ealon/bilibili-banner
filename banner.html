<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>哔哩哔哩动画</title>
  </head>
  <body>
    <div class="header-banner">
      <div class="animated-banner"></div>
    </div>

    <style>
      body {
        margin: 0;
        padding: 0;
      }
      .header-banner {
        position: relative;
        z-index: 0;
        min-height: 155px;
        height: 9.375vw;
        max-height: 240px;
        background-color: #e3e5e7;
      }
      .animated-banner {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: hidden;
      }
      .layer {
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>

    <script>
      
      // 秋天
      // const layers = [
      //   {
      //     resources: [
      //       {
      //         src: "./static/39f5846ccf601e178afe37eef2e9759d38078d56.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.7,
      //     },
      //     rotate: {},
      //     translate: {},
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 0,
      //     name: "01 bg",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/0a3bf7a4c7c3b8b5b63aae6adf57c5fabeeb0cff.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.6,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [130, 10],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 1,
      //     name: "02 中间舞台",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/3333f15a7b34f6cf89938cb5852b12fba7d7e2a6.webm",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.6,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [60, 70],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 18,
      //     name: "动态水上光",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/e737e375a9bf412f802feaec18ee52ad517b4db9.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.25,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [-60, 130],
      //       offset: [20, 0],
      //     },
      //     blur: {
      //       initial: 0.5,
      //     },
      //     opacity: {
      //       initial: 0.7,
      //       wrap: "clamp",
      //     },
      //     id: 13,
      //     name: "小兔子",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/9539f58accbf88eb810a45ff2cbefbf1c29840c3.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.8,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [1000, -40],
      //       offset: [20, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 4,
      //     name: "05 右边树林",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/b5514fc043485ce31d0c91a398aeb288261256dc.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {},
      //     rotate: {},
      //     translate: {
      //       initial: [850, -10],
      //       offset: [30, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 5,
      //     name: "06 右边土地",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/9cc0c1c3b87ca0ea32b80c3b08611e794108348b.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.5,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [450, 60],
      //       offset: [80, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 12,
      //     name: "小兔子",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/8512395c322494ef32b0fb40821e8e66fb291b53.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.7,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [-800, 0],
      //       offset: [95, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 6,
      //     name: "07 左侧石头",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/e737e375a9bf412f802feaec18ee52ad517b4db9.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.6,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [-1100, 40],
      //       offset: [150, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 9,
      //     name: "左侧远处小兔子",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/f5e02d26b199c851032d5237e7fe9bab0fe456d4.webm",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.6,
      //     },
      //     rotate: {},
      //     translate: {},
      //     blur: {},
      //     opacity: {
      //       initial: 0.6,
      //       wrap: "clamp",
      //     },
      //     id: 21,
      //     name: "运动粒子",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/6e9dd4d7f26b117773661aeed3a357641d519f2a.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.7,
      //     },
      //     rotate: {},
      //     translate: {
      //       offset: [50, -10],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 17,
      //     name: "花朵粒子",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/f48b2d7535cae1ed97c7bb3c69d29e574cbe30c6.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.55,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [-200, 50],
      //       offset: [100, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 10,
      //     name: "2233",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/4d9b71139bc84c4ddd1b37a906115c4b0c54af87.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.5,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [700, 70],
      //       offset: [200, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       initial: 0,
      //       wrap: "clamp",
      //     },
      //     id: 11,
      //     name: "右边石头",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/cd873292b7b3ae5603b546e1ecdf05fecaa955f3.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.6,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [-700, 0],
      //       offset: [200, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       initial: 0,
      //       wrap: "clamp",
      //     },
      //     id: 7,
      //     name: "08 左侧水植物",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/f3a02af183b808d236d0cc7997cbeb8958ef9bb0.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.55,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [-700, 40],
      //       offset: [300, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 8,
      //     name: "09 小兔子",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/cd873292b7b3ae5603b546e1ecdf05fecaa955f3.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.8,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [1000, 0],
      //       offset: [300, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 14,
      //     name: "右侧水上植物",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/3483ce9cad9fc3dd80f34cb164bcd5eeb1606332.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.7,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [-200, 0],
      //       offset: [300, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 15,
      //     name: "图层15",
      //   },
      //   {
      //     resources: [
      //       {
      //         src: "./static/988a546df1cdf5eeefa0a5c319bc6b4bfca7d42d.png",
      //         id: 0,
      //       },
      //     ],
      //     scale: {
      //       initial: 0.7,
      //     },
      //     rotate: {},
      //     translate: {
      //       initial: [800, 0],
      //       offset: [400, 0],
      //     },
      //     blur: {},
      //     opacity: {
      //       wrap: "clamp",
      //     },
      //     id: 16,
      //     name: "图层16",
      //   },
      // ];

      // 秋天
      const layers = [
        {
            "resources": [
                {
                    "src": "./static_03/0876da4f3ec73ff180fc87b46b6d1bcf4d52030a.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.7
            },
            "rotate": {},
            "translate": {},
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 0,
            "name": "01_底色"
        },
        {
            "resources": [
                {
                    "src": "./static_03/4adc24834b64143296d77bc81ccd952a59301b08.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.7
            },
            "rotate": {},
            "translate": {
                "offset": [
                    20,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 1,
            "name": "02_最远树"
        },
        {
            "resources": [
                {
                    "src": "./static_03/e33992d2d75647af38c50792c199fb9db006786c.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.7
            },
            "rotate": {},
            "translate": {
                "initial": [
                    30,
                    0
                ],
                "offset": [
                    50,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 2,
            "name": "03_栗子堆"
        },
        {
            "resources": [
                {
                    "src": "./static_03/57102cf6e2e2845f2773581928c1d0f0c1985a3e.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.6
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -50,
                    0
                ],
                "offset": [
                    100,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 3,
            "name": "04_熊和树"
        },
        {
            "resources": [
                {
                    "src": "./static_03/0f79aa287163a3271c6cb22a73a6dc0fc210ab7c.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.6
            },
            "rotate": {},
            "translate": {
                "initial": [
                    600,
                    0
                ],
                "offset": [
                    100,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 5,
            "name": "06_右边松鼠"
        },
        {
            "resources": [
                {
                    "src": "./static_03/639de634f90688e86b7bd32924cfb029a316cde4.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.6
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -400,
                    -60
                ],
                "offset": [
                    1000,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 4,
            "name": "05_天上鸡"
        },
        {
            "resources": [
                {
                    "src": "./static_03/852c3bd9d9608ceccb7265de8cea7cf3a4b039eb.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.7
            },
            "rotate": {},
            "translate": {
                "initial": [
                    200,
                    0
                ],
                "offset": [
                    -300,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 6,
            "name": "07_光线02"
        },
        {
            "resources": [
                {
                    "src": "./static_03/9556f65510f73c44aa6756ee9b8cf7fc2562b906.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.7
            },
            "rotate": {},
            "translate": {
                "offset": [
                    500,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 7,
            "name": "08_光线01"
        },
        {
            "resources": [
                {
                    "src": "./static_03/530a4624fe408881101885c6f24c72e8c2a14fb6.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.6
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -150,
                    20
                ],
                "offset": [
                    200,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 8,
            "name": "09_33"
        },
        {
            "resources": [
                {
                    "src": "./static_03/bf896616dec163402ec79a81f936af67932eca2f.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.7
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -500,
                    80
                ],
                "offset": [
                    250,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 10,
            "name": "11_草地后面"
        },
        {
            "resources": [
                {
                    "src": "./static_03/32aa867cd3e8fba371a2be90d7d844a68c67f7a5.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.55
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -300,
                    0
                ],
                "offset": [
                    300,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 9,
            "name": "10_22"
        },
        {
            "resources": [
                {
                    "src": "./static_03/c6263485a0218c887848c47a0fe4f515006e1567.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.6
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -600,
                    20
                ],
                "offset": [
                    350,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 11,
            "name": "12_左边鸡"
        },
        {
            "resources": [
                {
                    "src": "./static_03/cd4fda9478b06a8d81cd04f69d7a2ad475d1db40.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.6
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -220,
                    90
                ],
                "offset": [
                    400,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 13,
            "name": "14_草地前面"
        },
        {
            "resources": [
                {
                    "src": "./static_03/0479542df6a7c5deddf60fbbf63b6e1f1f770c08.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.6
            },
            "rotate": {},
            "translate": {
                "initial": [
                    300,
                    20
                ],
                "offset": [
                    500,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 12,
            "name": "13_大松鼠"
        },
        {
            "resources": [
                {
                    "src": "./static_03/b6f4359409b4550fb38594d8c227902db29c720a.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.85
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -100,
                    -5
                ],
                "offset": [
                    600,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 14,
            "name": "15_前景蘑菇暗色"
        },
        {
            "resources": [
                {
                    "src": "./static_03/8a6899088fc9dcd37a0039884fb77f69dc3b1c30.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.8
            },
            "rotate": {},
            "translate": {
                "initial": [
                    -1800,
                    0
                ],
                "offset": [
                    1000,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 15,
            "name": "16_前景叶子"
        },
        {
            "resources": [
                {
                    "src": "./static_03/96704a6197153e1717a910e6c227937f34743cee.png",
                    "id": 0
                }
            ],
            "scale": {
                "initial": 0.6
            },
            "rotate": {},
            "translate": {
                "initial": [
                    2500,
                    0
                ],
                "offset": [
                    1500,
                    0
                ]
            },
            "blur": {},
            "opacity": {
                "wrap": "clamp"
            },
            "id": 16,
            "name": "17_前景栗子"
        }
    ]     

      
      // 夏天
      /**
      const layers = [
        {
          resources: [
            {
              src:
                "./static_02/4e7edb416c34eccc40f34d2b297524652685a9bb.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {},
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 0,
          name: "01 bg",
        },
        {
          resources: [
            {
              src:
                "./static_02/78e8b2abe1bc5715719e847a4e3654e3d11bcbf7.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {
            initial: [150, -30],
            offset: [20, 0],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 13,
          name: "13 远鸟",
        },
        {
          resources: [
            {
              src:
                "./static_02/a679239d0399412dd75e4e0eb30702b0818ef26d.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {
            initial: [350, 15],
            offset: [20, 0],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 1,
          name: "02 灯塔丛林",
        },
        {
          resources: [
            {
              src:
                "./static_02/9f86739c3b0ff5ddc99122aa506dee041aab4ec4.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {
            initial: [-160, 10],
            offset: [50, 0],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 2,
          name: "03 底部海水",
        },
        {
          resources: [
            {
              src:
                "./static_02/ce1377aa701c7704b5f0984959512120ac57c586.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {
            initial: [-200, 40],
            offset: [100, 0],
          },
          blur: {},
          opacity: {
            offset: 1,
            wrap: "alternate",
            offsetCurve: [1, 0.009499999999999842, 0, 1.005],
          },
          id: 3,
          name: "04 鳄鱼a",
        },
        {
          resources: [
            {
              src:
                "./static_02/149e5beb3ef989ee01a28c0412ece9842c026e74.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {
            initial: [-200, 40],
            offset: [100, 0],
          },
          blur: {},
          opacity: {
            initial: 0,
            offset: 1,
            wrap: "alternate",
            offsetCurve: [
              0.5990000000000001,
              -0.0015000000000000568,
              0,
              1.0105,
            ],
          },
          id: 4,
          name: "04 鳄鱼b",
        },
        {
          resources: [
            {
              src:
                "./static_02/8198227e8abb7c75a94ddbc1209a9bf5ba067a68.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.7,
          },
          rotate: {},
          translate: {
            initial: [-750, 50],
            offset: [50, 0],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 5,
          name: "05 左边鱼影",
        },
        {
          resources: [
            {
              src:
                "./static_02/af9d07a3e29858d742cf2f0dd22c70d5553641f3.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {
            initial: [-950, 70],
            offset: [300, 0],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 6,
          name: "06 左边鱼群",
        },
        {
          resources: [
            {
              src:
                "./static_02/0725acc8fac5c8164726240de477fbd0ce18e6dd.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.55,
          },
          rotate: {},
          translate: {
            initial: [650, 130],
            offset: [200, 0],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 7,
          name: "07 右边鱼",
        },
        {
          resources: [
            {
              src:
                "./static_02/7b96b0044345b5c2e3ddb8ea487daed8761c57f7.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.5,
          },
          rotate: {},
          translate: {
            initial: [120, 0],
            offset: [250, -20],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 8,
          name: "08 右边鸟",
        },
        {
          resources: [
            {
              src:
                "./static_02/24c57a58af481117640928798419341bc6fd32d3.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {
            initial: [-200, 20],
            offset: [90, 0],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 9,
          name: "09 中间",
        },
        {
          resources: [
            {
              src:
                "./static_02/1a77fc745eb5b65b976506bc3a8ce1c8fe876991.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.65,
          },
          rotate: {
            offset: 5,
          },
          translate: {
            initial: [-280, 60],
            offset: [90, 0],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 11,
          name: "11 33",
        },
        {
          resources: [
            {
              src:
                "./static_02/dc29b8093f5d97a41d48ca24b4d7d00f78920d54.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.75,
          },
          rotate: {},
          translate: {
            initial: [-30, -5],
            offset: [130, 2],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 10,
          name: "10 水面",
        },
        {
          resources: [
            {
              src:
                "./static_02/9af5dad13028d419618e86399eb8fc009700d74c.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.6,
          },
          rotate: {},
          translate: {
            initial: [-420, -80],
            offset: [400, 10],
          },
          blur: {},
          opacity: {
            wrap: "clamp",
          },
          id: 12,
          name: "12 近鸟",
        },
        {
          resources: [
            {
              src:
                "./static_02/339abbc0d089a1ddbe3265b238e750173ce56de4.png",
              id: 0,
            },
          ],
          scale: {
            initial: 0.7,
          },
          rotate: {},
          translate: {
            initial: [0, -20],
            offset: [300, 0],
          },
          blur: {
            initial: 3,
          },
          opacity: {
            wrap: "clamp",
          },
          id: 14,
          name: "14 两侧",
        },
      ];
      **/

      let k = 0,
        w = 0;

      layers.map((layer) => {
        layer.resources.map((resource, resourceKey) => {
          if (!/\.(webm|mp4)$/.test(resource.src)) {
            const imgElement = document.createElement("img");
            imgElement.src = resource.src;
            layer.resources[resourceKey].el = imgElement;
          } else {
            const videoElement = document.createElement("video");
            (videoElement.muted = !0),
              (videoElement.loop = !0),
              (videoElement.autoplay = !0),
              (videoElement.src = resource.src),
              (videoElement.playsInline = !0),
              (videoElement.style.objectFit = "cover"),
              (layer.resources[resourceKey].el = videoElement);
          }
        });
      });

      const banner = document.querySelector(".animated-banner");
      const fatherHeight = banner.clientHeight,
        fatherWidth = banner.clientWidth,
        ratio = fatherHeight / 155;

      layers.forEach((layer) => {
        layer.resources.forEach((resource, resourceKey) => {
          const eachElement = layer.resources[resourceKey].el;
          if (eachElement.tagName === "VIDEO") {
            // 获取视频的宽高
            eachElement.addEventListener("loadedmetadata", function() {
              const width = eachElement.videoWidth;
              const height = eachElement.videoHeight;
              (eachElement.width = width),
                (eachElement.height = height),
                (eachElement.dataset.height = eachElement.videoHeight.toString());
              eachElement.dataset.width = eachElement.videoWidth.toString();
            });
          } else {
            eachElement.dataset.height = eachElement.naturalHeight.toString();
            eachElement.dataset.width = eachElement.naturalWidth.toString();
          }

          let re, ge;

          const y =
              ((re = layer.scale) === null ? void 0 : re.initial) === void 0
                ? 1
                : (ge = layer.scale) == null
                ? void 0
                : ge.initial,
            q = eachElement,
            te = Number(eachElement.dataset.height) * ratio * y,
            ie = Number(eachElement.dataset.width) * ratio * y;

          (q.height = te),
            (q.width = ie),
            (q.style.height = te + "px"),
            (q.style.width = ie + "px");
        });
      });

      const divElementArr = layers.map(() => {
        const divElement = document.createElement("div");

        return (
          divElement.classList.add("layer"),
          banner.appendChild(divElement),
          divElement
        );
      });

      const f = layers.map((layer) => {
        let z, K, N, Y;
        return {
          scale: 1,
          rotate: ((z = layer.rotate) == null ? void 0 : z.initial) || 0,
          translate: ((K = layer.translate) == null ? void 0 : K.initial) || [
            0,
            0,
          ],
          blur: ((N = layer.blur) == null ? void 0 : N.initial) || 0,
          opacity:
            ((Y = layer.opacity) == null ? void 0 : Y.initial) === void 0
              ? 1
              : layer.opacity.initial,
        };
      });

      const animationFrameFn = () => {
        try {
          divElementArr.map((divElement, divElementKey) => {
            const K = layers[divElementKey],
              N = divElement.firstChild;

            const Y = {
              scale: f[divElementKey].scale,
              rotate: f[divElementKey].rotate,
              translate: f[divElementKey].translate,
            };

            if (K.scale) {
              const q = K.scale.offset || 0,
                te = (re) => re,
                ie = q * te(k);

              Y.scale = f[divElementKey].scale + ie;
            }
            if (K.rotate) {
              const q = K.rotate.offset || 0,
                te = (re) => re,
                ie = q * te(k);

              Y.rotate = f[divElementKey].rotate + ie;
            }
            if (K.translate) {
              const q = K.translate.offset || [0, 0],
                te = (ge) => ge,
                ie = q.map((ge) => {
                  return te(k) * ge;
                }),
                re = f[divElementKey].translate.map((ge, Re) => {
                  var at;
                  return (
                    (ge + ie[Re]) *
                    ratio *
                    (((at = K.scale) == null ? void 0 : at.initial) || 1)
                  );
                });
              Y.translate = re;
            }

            if (
              ((N.style.transform = `translate(${Y.translate[0]}px, ${Y.translate[1]}px)rotate(${Y.rotate}deg)scale(${Y.scale})`),
              K.blur)
            ) {
              const q = K.blur.offset || 0,
                te = (ge) => ge,
                ie = q * te(k);
              let re = 0;
              !K.blur.wrap || K.blur.wrap === "clamp"
                ? (re = Math.max(0, f[divElementKey].blur + ie))
                : K.blur.wrap === "alternate" &&
                  (re = Math.abs(f[divElementKey].blur + ie)),
                (N.style.filter = re < 1e-4 ? "" : `blur(${re}px)`);
            }

            if (K.opacity) {
              const q = K.opacity.offset || 0,
                te = (ge) => ge,
                ie = q * te(k),
                re = f[divElementKey].opacity;
              if (!K.opacity.wrap || K.opacity.wrap === "clamp")
                N.style.opacity = Math.max(0, Math.min(1, re + ie)).toString();
              else if (K.opacity.wrap === "alternate") {
                const ge = re + ie;
                let Re = Math.abs(ge % 1);
                Math.abs(ge % 2) >= 1 && (Re = 1 - Re),
                  (N.style.opacity = Re.toString());
              }
            }
          });
        } catch (err) {
          console.log("err", err);
        }
      };

      layers.map((G, z) => {
        const K = G.resources[0].el;
        divElementArr[z].appendChild(K),
          requestAnimationFrame(animationFrameFn);
      });

      const E = () => {
        const G = performance.now(),
          z = 200,
          K = k;
        cancelAnimationFrame(w);
        const N = (Y) => {
          Y - G < z
            ? ((k = K * (1 - (Y - G) / 200)),
              animationFrameFn(),
              requestAnimationFrame(N))
            : ((k = 0), animationFrameFn());
        };
        w = requestAnimationFrame(N);
      };

      const o = Object.getOwnPropertyDescriptors(!1);

      const mouseLeaveFn = () => {
        (o.value = !1), E();
      };

      // 用户在浏览器中移动鼠标事件
      const mouseMoveFn = (e) => {
        document.documentElement.scrollTop + e.clientY < fatherHeight
          ? (o.value || ((o.value = !0), (C = e.clientX)),
            (k = (e.clientX - C) / fatherWidth),
            cancelAnimationFrame(w),
            (w = requestAnimationFrame(animationFrameFn)))
          : o.value && ((o.value = !1), E());
      };

      const resizeFn = (G) => {
        (m = banner.clientHeight),
          (p = banner.clientWidth),
          (h = m / 155),
          layers.forEach((z) => {
            z.resources.forEach((K) => {
              var te, ie;
              const N = K.el,
                Y =
                  Number(N.dataset.width) *
                  h *
                  (((te = z.scale) == null ? void 0 : te.initial) || 1),
                q =
                  Number(N.dataset.height) *
                  h *
                  (((ie = z.scale) == null ? void 0 : ie.initial) || 1);
              (N.height = q),
                (N.width = Y),
                (N.style.height = `${q}px`),
                (N.style.width = `${Y}px`);
            });
          });

        cancelAnimationFrame(w),
          (I = NaN),
          (w = requestAnimationFrame(animationFrameFn));
      };

      document.addEventListener("mouseleave", mouseLeaveFn),
        window.addEventListener("mousemove", mouseMoveFn);
      window.addEventListener("resize", resizeFn);
    </script>
  </body>
</html>
